<!DOCTYPE html>
<html class="loading" lang="en" data-textdirection="ltr">
<%- include('../common/header.ejs'); %>

  <body class="vertical-layout vertical-menu-modern navbar-floating footer-static" data-open="click"
    data-menu="vertical-menu-modern" data-col="">
    <%- include('../common/navbar.ejs'); %>
      <%- include('../common/sidebar.ejs'); %>


        <div class="app-content content">
          <div class="content-overlay"></div>
          <div class="header-navbar-shadow"></div>
          <div class="content-wrapper">
            <div class="content-body">
              <div class="auth-wrapper">
                <div class="auth-inner py-2">
                  <div class="card mb-0">
                    <div class="card-body">
                      <form id="validate" class="auth-register-form" action="/createprojectsubtask" method="POST" enctype="multipart/form-data" novalidate>

                        <div class="mb-1">
                          <label for="projectId" class="form-label">Project Name</label>
                          <select id="projectId" name="projectId" class="form-control" required>
                            <option value="" disabled selected>Select Project</option>
                            <% projects.forEach(project => { %>
                              <option value="<%= project.id %>"><%= project.name %></option>
                            <% }) %>
                          </select>
                          <div class="invalid-feedback">Please select a project.</div>
                        </div>
                      
                        <div class="mb-1">
                          <label for="projectTaskId" class="form-label">Project Task</label>
                          <select id="projectTaskId" name="projectTaskId" class="form-control" required>
                            <option value="" disabled selected>Select Task</option>
                            <% projectTasks.forEach(task => { %>
                              <option value="<%= task.id %>"><%= task.workGroup %></option>
                            <% }) %>
                          </select>
                          <div class="invalid-feedback">Please select a task.</div>
                        </div>
                      
                        <div class="mb-1">
                          <label for="itemCode" class="form-label">Item Code</label>
                          <input type="text" class="form-control" name="itemCode" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="discription" class="form-label">Description</label>
                          <input type="text" class="form-control" name="discription" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="unit" class="form-label">Unit</label>
                          <input type="text" class="form-control" name="unit" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="quantity" class="form-label">Quantity</label>
                          <input type="text" class="form-control" name="quantity" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="rate" class="form-label">Rate</label>
                          <input type="text" class="form-control" name="rate" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="materialCost" class="form-label">Material Cost</label>
                          <input type="text" class="form-control" name="materialCost" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="meterialCenter" class="form-label">Material Center</label>
                          <input type="text" class="form-control" name="meterialCenter" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="labourHours" class="form-label">Labour Hours</label>
                          <input type="text" class="form-control" name="labourHours" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="labourCost" class="form-label">Labour Cost</label>
                          <input type="text" class="form-control" name="labourCost" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="labourCostCenter" class="form-label">Labour Cost Center</label>
                          <input type="text" class="form-control" name="labourCostCenter" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="total" class="form-label">Total</label>
                          <input type="text" class="form-control" name="total" required>
                        </div>
                      
                        <div class="mb-1">
                          <label for="notes" class="form-label">Notes</label>
                          <textarea class="form-control" name="notes" required></textarea>
                        </div>
                      
                        <div class="d-flex justify-content-end">
                          <button type="submit" class="btn btn-primary mx-2">Submit</button>
                          <a class="btn btn-secondary" href="/projectsubtasklist">Back</a>
                        </div>
                      
                      </form>
                      
                      
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <%- include('../common/footer.ejs'); %>

          <script src="../../../app-assets/vendors/js/vendors.min.js"></script>
          <script src="../../../app-assets/js/core/app-menu.js"></script>
          <script src="../../../app-assets/js/core/app.js"></script>
         

          <script>
            (function () {
              'use strict';
              var form = document.getElementById('validate');

              form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                  event.preventDefault();
                  event.stopPropagation();
                }
                form.classList.add('was-validated');
              }, false);
            })();
          </script>


          
          <script>
            feather.replace(); // Important: Initializes feather icons
          </script>
          

  </body>

</html>